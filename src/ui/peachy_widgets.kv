#:kivy 1.9.0
#:import _ __main__._

<Dripper>:

<I18NHelpPopup>:
    BoxLayout:
        orientation: 'vertical'
        ScrollView:
            padding: "10dp"
            I18NLabel:
                text_source: root.text_source
                markup: True
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
        I18NButton:
            text_source: _('Done')
            size_hint_y:None
            height: app.button_height
            on_release: root.dismiss()

<TouchyLabel>:

<LaserWarningPopup>:
    title:_('Laser Safety Notice')
    size_hint:[0.6, 0.6]
    container: container
    laser_on_button: laser_on_button
    markup: markup
    buttons: buttons
    BoxLayout:
        id: container
        orientation: 'vertical'
        ScrollView:
            id: markup
            padding: "10dp"
            I18NLabel:
                text_source: _("You are about to turn on the laser. Do you wish to proceed")
                markup: True
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
        BoxLayout:
            id: buttons
            I18NImageButton:
                id:laser_on_button
                source: "resources/icons/laser_safety_turn_on_laser-24x24.png"
                text_source: _('Turn on Laser')
                size_hint_y:None
                height: app.button_height
                on_release: root.accepted = "True"; root.phase2()
            I18NImageButton:
                source: "resources/icons/laser_safety_cancel-24x24.png"
                text_source: _('Cancel')
                size_hint_y:None
                size_hint_x: 0.5
                height: app.button_height
                on_release: root.accepted = "False"; root.dismiss()

<LaserStatusBar>:
    key_image: key_image
    key_state: False
    switch_image: switch_image
    switch_state: False
    card_image: card_image
    card_state: False
    laser_image: laser_image
    laser_state: False
    orientation: 'vertical'
    size_hint_x: None
    width: '54dp'
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: None
        width: '54dp'

        canvas.before:
            Color:
                rgba: [0.0, 0.0, 0.0, 1.0]
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            orientation: 'vertical'
            Image:
                id: key_image
                size_hint_y: None
                height: '48dp'
                source:"resources/icons/status_key-48x96.png"
            Image:
                size_hint_y: None
                height: '16dp'
                source: "resources/icons/status_on-32x32.png" if root.key_state else "resources/icons/status_off-32x32.png"
        BoxLayout:
            orientation: 'vertical'
            Image:
                id: switch_image
                size_hint_y: None
                height: '48dp'
                source:"resources/icons/status_switch-48x96.png"
            Image:
                size_hint_y: None
                height: '16dp'
                source: "resources/icons/status_on-32x32.png" if root.switch_state else "resources/icons/status_off-32x32.png"
        BoxLayout:
            orientation: 'vertical'
            Image:
                id: card_image
                size_hint_y: None
                height: '48dp'
                source:"resources/icons/status_card-48x96.png"
            Image:
                size_hint_y: None
                height: '16dp'
                source: "resources/icons/status_on-32x32.png" if root.card_state else "resources/icons/status_off-32x32.png"
        BoxLayout:
            orientation: 'vertical'
            Image:
                id: laser_image
                size_hint_y: None
                height: '48dp'
                source:"resources/icons/status_laser-48x96.png"
            Image:
                size_hint_y: None
                height: '16dp'
                source: "resources/icons/status_on-32x32.png" if root.laser_state else "resources/icons/status_off-32x32.png"
        Label: