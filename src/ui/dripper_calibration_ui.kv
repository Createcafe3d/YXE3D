#:kivy 1.9.0
#:import _ __main__._
#:import FloatInput ui.custom_widgets.FloatInput

<CircutSettings>:
    orientation: 'vertical'
    I18NLabel:
        markup: True
        size_hint_y:None
        height: "30dp"
        text_source:_("[b]Circut Settings[/b]")
    BoxLayout:
        orientation: 'horizontal'
        size_hint_y:None
        height: "30dp"
        I18NLabel:
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            text_source:_("Drips per mm")
        FloatInput:
            text: str(root.drips_per_mm)
            on_text: root.drips_per_mm = float(self.text)
    BoxLayout:

<EmulatedSettings>:
    orientation: 'vertical'
    I18NLabel:
        markup: True
        size_hint_y:None
        height: "30dp"
        text_source:_("[b]Emulated Settings[/b]")
    BoxLayout:
        orientation: 'horizontal'
        size_hint_y:None
        height: "30dp"
        I18NLabel:
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            text_source:_("Drips per mm")
        FloatInput:
            text: str(root.drips_per_mm)
            on_text: root.drips_per_mm = float(self.text)
    BoxLayout:
        orientation: 'horizontal'
        size_hint_y:None
        height: "30dp"
        I18NLabel:
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            text_source:_("Drips per second")
        FloatInput:
            text: str(root.drips_per_second)
            on_text: root.drips_per_second = float(self.text)
    BoxLayout:

<PhotoSettings>:
    orientation: 'vertical'
    I18NLabel:
        markup: True
        size_hint_y:None
        height: "30dp"
        text_source:_("[b]Photo Settings[/b]")
    BoxLayout:
        orientation: 'horizontal'
        size_hint_y:None
        height: "30dp"
        I18NLabel:
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            text_source:_("Delay After Layer")
        FloatInput:
            text: str(root.photo_zaxis_delay)
            on_text: root.photo_zaxis_delay = float(self.text)
    BoxLayout:


<DripperCalibrationUI>:
    name: 'drippercalibrationui'
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            spacing: "3dp"
            BoxLayout:
                orientation: 'vertical'
                canvas.before:
                    Color:
                        rgba: 1.0, 0.0, 0.0, 0.1
                    Rectangle:
                        pos:  self.pos
                        size: self.size
                I18NLabel:
                    size_hint_y:None
                    height: "30dp"
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    text_source:_("Dripper Type")
                I18NImageSpinner:
                    size_hint_y:None
                    height: "40dp"
                    id: dripper_type_selector
                    values: [[_('Emulated'), 'emulated', "resources/icons/dripper_calibration_type_-_emulated-24x24.png"], [_('Photo'), 'photo', "resources/icons/dripper_calibration_type_-_photo-24x24.png"],[ _('Circut'), 'microcontroller', "resources/icons/dripper_calibration_type_-_circut-24x24.png"]]
                    on_selected: root.dripper_type_changed(self, self.selected)
                BoxLayout:
                    id: setup_box_id
                I18NImageButton:
                    source: "resources/icons/general_help-24x24.png"
                    text_source: _("Help me")
                    on_release: I18NHelpPopup(text_source=_('MARKUP - Dripper Instructions'), title_source=_("Help - Dripper Settings"), size_hint=(0.9, 0.9)).open()
                    size_hint_y:None
                    height: "30dp"
            BoxLayout:
                id: visuals_box_id
                orientation: 'vertical'
                canvas.before:
                    Color:
                        rgba: 0.0, 1.0, 0.0, 0.2
                    Rectangle:
                        pos:  self.pos
                        size: self.size
            BoxLayout:
                id: settings_box_id
                orientation: 'vertical'
                padding: "3dp"
                canvas.before:
                    Color:
                        rgba: 1.0, 1.0, 1.0, 0.3
                    Rectangle:
                        pos:  self.pos
                        size: self.size
        I18NImageButton:
            source: "resources/icons/general_back-24x24.png"
            text_source: _("Back")
            size_hint_y: None
            height: "30dp"
            on_release: app.root.current = 'mainui'